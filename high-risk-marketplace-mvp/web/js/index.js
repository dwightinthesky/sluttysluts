const translations = {
    en: {
        brandTitle: 'SluttySluts Platform',
        brandSub: 'Private marketplace for creator commerce',
        navStory: 'Platform Story',
        navFlows: 'Workspaces',
        navTrust: 'Trust Engine',
        navStart: 'Getting Started',
        btnOps: 'Operations',
        btnCreator: 'Creator',
        btnCustomer: 'Customer',
        heroBadge: 'Role-first marketplace routing',
        heroCustomerKicker: 'Demand Side',
        heroCustomerTitle: 'The Vault',
        heroCustomerTitleLead: 'THE',
        heroCustomerTitleEm: 'VAULT',
        heroCustomerCopy: 'Explore curated listings with transparent checkout fees, private communication, and verified delivery states.',
        heroCreatorKicker: 'Supply Side',
        heroCreatorTitle: 'The Syndicate',
        heroCreatorTitleLead: 'THE',
        heroCreatorTitleEm: 'SYNDICATE',
        heroCreatorCopy: 'Monetize with promotion inventory, reserve-aware wallets, dispute-ready ledgers, and controlled payouts.',
        heroEnterCustomer: 'Enter as Customer',
        heroEnterCreator: 'Enter as Creator',
        toggleCustomer: 'I am a Customer',
        toggleCreator: 'I am a Creator',
        metric1: 'webhook reliability with idempotent processing',
        metric2: 'rolling reserve window visible in creator wallet',
        metric3: 'promotion lift from inventory-based ranking plans',
        storyKicker: 'Platform Architecture',
        storyTitle: 'Built like a commerce engine, presented like a premium brand.',
        storyCopy: 'The experience looks editorial and exclusive, while the foundation runs dual-fee calculations, moderation states, dispute operations, and reserve-aware payouts.',
        storyCard1Title: 'Dual-Fee Ledger Core',
        storyCard1Copy: 'Every order stores base price, buyer fee, commission, seller earnings, and reconciliation-ready transaction trails.',
        storyCard2Title: 'Promotion Monetization',
        storyCard2Copy: 'Creators can buy duration or click-based ranking plans directly from their workspace and track conversion impact.',
        storyCard3Title: 'Compliance by Design',
        storyCard3Copy: 'KYC gates, moderation queues, and review events control what gets published before it reaches customers.',
        storyCard4Title: 'Chargeback Defense',
        storyCard4Copy: 'Dispute webhooks freeze funds, build evidence packets, and adjust reserve rates using seller risk profiles.',
        flowsKicker: 'Role Journeys',
        flowsTitle: 'Two workspaces, one operating system.',
        flowsCopy: 'Users choose identity once, then land in a journey tuned for conversion, control, and transparency.',
        creatorTitle: 'Creator Workspace',
        creatorCopy: 'For catalog operations, promotion spend, reserve tracking, and withdrawal management.',
        creatorPoint1: 'Manage listings, pricing, and inventory states',
        creatorPoint2: 'Buy promotion slots and monitor exposure performance',
        creatorPoint3: 'Track available, pending, and disputed balances',
        customerTitle: 'Customer Workspace',
        customerCopy: 'For discovery, transparent pending orders, hosted checkout, and delivery/dispute tracking.',
        customerPoint1: 'Browse promoted and organic listings',
        customerPoint2: 'Review fee breakdown before hosted payment redirect',
        customerPoint3: 'Track order, shipping proof, and dispute states',
        trustKicker: 'Trust Engine',
        trustTitle: 'Safety systems stay in the background and keep conversion smooth.',
        trustCopy: 'High-risk commerce survives by being predictable. These controls protect margin, payouts, and payment partner health.',
        trustCard1Title: 'Idempotent Webhooks',
        trustCard1Copy: 'Duplicate payment callbacks are ignored safely so balances never credit twice.',
        trustCard2Title: 'Append-only Ledger',
        trustCard2Copy: 'All balance transitions are written as immutable records for auditing and reconciliation.',
        trustCard3Title: 'Moderation Console',
        trustCard3Copy: 'Operations teams process review queues with clear approve/reject state transitions.',
        trustCard4Title: 'Dispute State Machine',
        trustCard4Copy: 'Chargebacks create holds, lock risky withdrawals, and trigger evidence collection.',
        ctaTitle: 'Choose your role and enter the live workspace.',
        ctaCopy: 'Language, route, and onboarding context are carried across so users land in the right operating flow immediately.',
        footer: 'SluttySluts Marketplace Platform. Role-first entry, multilingual routing, and production-ready commerce controls.'
    },
    'zh-TW': {
        brandTitle: 'SluttySluts 平台',
        brandSub: '私密雙邊創作者市集',
        navStory: '平台架構',
        navFlows: '工作台',
        navTrust: '信任引擎',
        navStart: '快速開始',
        btnOps: '營運',
        btnCreator: 'Creator',
        btnCustomer: 'Customer',
        heroBadge: '角色優先分流入口',
        heroCustomerKicker: '需求側',
        heroCustomerTitle: 'The Vault',
        heroCustomerTitleLead: 'THE',
        heroCustomerTitleEm: 'VAULT',
        heroCustomerCopy: '探索精選商品，清楚看見費用拆解、私訊溝通與可驗證的交付狀態。',
        heroCreatorKicker: '供給側',
        heroCreatorTitle: 'The Syndicate',
        heroCreatorTitleLead: 'THE',
        heroCreatorTitleEm: 'SYNDICATE',
        heroCreatorCopy: '透過推廣版位、保留金可視化錢包與爭議防禦帳本，穩定放大收入。',
        heroEnterCustomer: '以 Customer 身份進入',
        heroEnterCreator: '以 Creator 身份進入',
        toggleCustomer: '我是 Customer',
        toggleCreator: '我是 Creator',
        metric1: '冪等化 webhook 的交易穩定率',
        metric2: 'Creator 錢包可視化 120 天保留金',
        metric3: '推廣版位帶來的平均曝光提升',
        storyKicker: '平台底層',
        storyTitle: '外觀像精品品牌，底層是可對帳的交易引擎。',
        storyCopy: '前台沉浸感與信任感兼具，後台同時處理雙向費率、審核狀態、爭議流程與撥款風險。',
        storyCard1Title: '雙向費率帳本核心',
        storyCard1Copy: '每筆訂單完整記錄原價、買家費、佣金、賣家收入與可稽核交易軌跡。',
        storyCard2Title: '推廣變現系統',
        storyCard2Copy: 'Creator 可在工作台直接購買天數或點擊方案，並追蹤實際轉換影響。',
        storyCard3Title: '合規內建設計',
        storyCard3Copy: 'KYC 關卡、審核佇列與事件紀錄，先審後發避免高風險內容外漏。',
        storyCard4Title: '拒付防禦機制',
        storyCard4Copy: '爭議 webhook 觸發凍結、證據包組裝與動態保留金調整。',
        flowsKicker: '角色旅程',
        flowsTitle: '兩個工作台，共用同一套營運核心。',
        flowsCopy: '使用者先選身份，再進入最符合任務的操作路徑，降低學習成本與流失率。',
        creatorTitle: 'Creator 工作台',
        creatorCopy: '管理商品、推廣預算、保留金與提現申請的供給側核心界面。',
        creatorPoint1: '管理商品上架、定價與庫存狀態',
        creatorPoint2: '購買推廣版位並追蹤曝光成效',
        creatorPoint3: '查看可提領、待釋放與爭議凍結餘額',
        customerTitle: 'Customer 工作台',
        customerCopy: '探索、下單、跳轉支付與爭議追蹤都在同一條清晰流程中完成。',
        customerPoint1: '瀏覽置頂與自然排序商品',
        customerPoint2: '付款前先看到透明費用拆解',
        customerPoint3: '追蹤訂單、物流憑證與爭議狀態',
        trustKicker: '信任引擎',
        trustTitle: '安全機制留在背景運作，前台仍維持順暢轉換。',
        trustCopy: '高風險交易要能長期運作，核心在於可預測且可回溯的資金與狀態流。',
        trustCard1Title: '冪等化 Webhook',
        trustCard1Copy: '重複回調不會重複入帳，避免錯誤放款與對帳偏差。',
        trustCard2Title: '僅追加式分類帳',
        trustCard2Copy: '每次餘額變動都留紀錄，便於稽核與財務對帳。',
        trustCard3Title: '審核營運主控台',
        trustCard3Copy: '營運團隊可在佇列快速審核並追蹤 approve/reject 歷程。',
        trustCard4Title: '爭議狀態機',
        trustCard4Copy: '拒付事件自動凍結資金、限制高風險提現並啟動證據收集。',
        ctaTitle: '選擇你的身份，直接進入對應工作台。',
        ctaCopy: '語言、角色與路由參數會一起帶入，使用者落地即能開始操作。',
        footer: 'SluttySluts Marketplace Platform：角色優先分流、多語系導流、可投入實戰的交易控制。'
    },
    hu: {
        brandTitle: 'SluttySluts Platform',
        brandSub: 'Private two-sided creator marketplace',
        navStory: 'Platform Story',
        navFlows: 'Workspaces',
        navTrust: 'Trust Engine',
        navStart: 'Getting Started',
        btnOps: 'Operations',
        btnCreator: 'Creator',
        btnCustomer: 'Customer',
        heroBadge: 'Role-first marketplace routing',
        heroCustomerKicker: 'Demand Side',
        heroCustomerTitle: 'The Vault',
        heroCustomerTitleLead: 'THE',
        heroCustomerTitleEm: 'VAULT',
        heroCustomerCopy: 'Explore curated listings with transparent checkout fees, private communication, and verified delivery states.',
        heroCreatorKicker: 'Supply Side',
        heroCreatorTitle: 'The Syndicate',
        heroCreatorTitleLead: 'THE',
        heroCreatorTitleEm: 'SYNDICATE',
        heroCreatorCopy: 'Monetize with promotion inventory, reserve-aware wallets, dispute-ready ledgers, and controlled payouts.',
        heroEnterCustomer: 'Enter as Customer',
        heroEnterCreator: 'Enter as Creator',
        toggleCustomer: 'I am a Customer',
        toggleCreator: 'I am a Creator',
        metric1: 'webhook reliability with idempotent processing',
        metric2: 'rolling reserve window visible in creator wallet',
        metric3: 'promotion lift from inventory-based ranking plans',
        storyKicker: 'Platform Architecture',
        storyTitle: 'Built like a commerce engine, presented like a premium brand.',
        storyCopy: 'The experience looks editorial and exclusive, while the foundation runs dual-fee calculations, moderation states, dispute operations, and reserve-aware payouts.',
        storyCard1Title: 'Dual-Fee Ledger Core',
        storyCard1Copy: 'Every order stores base price, buyer fee, commission, seller earnings, and reconciliation-ready transaction trails.',
        storyCard2Title: 'Promotion Monetization',
        storyCard2Copy: 'Creators can buy duration or click-based ranking plans directly from their workspace and track conversion impact.',
        storyCard3Title: 'Compliance by Design',
        storyCard3Copy: 'KYC gates, moderation queues, and review events control what gets published before it reaches customers.',
        storyCard4Title: 'Chargeback Defense',
        storyCard4Copy: 'Dispute webhooks freeze funds, build evidence packets, and adjust reserve rates using seller risk profiles.',
        flowsKicker: 'Role Journeys',
        flowsTitle: 'Two workspaces, one operating system.',
        flowsCopy: 'Users choose identity once, then land in a journey tuned for conversion, control, and transparency.',
        creatorTitle: 'Creator Workspace',
        creatorCopy: 'For catalog operations, promotion spend, reserve tracking, and withdrawal management.',
        creatorPoint1: 'Manage listings, pricing, and inventory states',
        creatorPoint2: 'Buy promotion slots and monitor exposure performance',
        creatorPoint3: 'Track available, pending, and disputed balances',
        customerTitle: 'Customer Workspace',
        customerCopy: 'For discovery, transparent pending orders, hosted checkout, and delivery/dispute tracking.',
        customerPoint1: 'Browse promoted and organic listings',
        customerPoint2: 'Review fee breakdown before hosted payment redirect',
        customerPoint3: 'Track order, shipping proof, and dispute states',
        trustKicker: 'Trust Engine',
        trustTitle: 'Safety systems stay in the background and keep conversion smooth.',
        trustCopy: 'High-risk commerce survives by being predictable. These controls protect margin, payouts, and payment partner health.',
        trustCard1Title: 'Idempotent Webhooks',
        trustCard1Copy: 'Duplicate payment callbacks are ignored safely so balances never credit twice.',
        trustCard2Title: 'Append-only Ledger',
        trustCard2Copy: 'All balance transitions are written as immutable records for auditing and reconciliation.',
        trustCard3Title: 'Moderation Console',
        trustCard3Copy: 'Operations teams process review queues with clear approve/reject state transitions.',
        trustCard4Title: 'Dispute State Machine',
        trustCard4Copy: 'Chargebacks create holds, lock risky withdrawals, and trigger evidence collection.',
        ctaTitle: 'Choose your role and enter the live workspace.',
        ctaCopy: 'Language, route, and onboarding context are carried across so users land in the right operating flow immediately.',
        footer: 'SluttySluts Marketplace Platform. Role-first entry, multilingual routing, and production-ready commerce controls.'
    },
    fr: {
        brandTitle: 'SluttySluts Platform',
        brandSub: 'Marketplace prive two-sided pour creators',
        navStory: 'Histoire Plateforme',
        navFlows: 'Workspaces',
        navTrust: 'Moteur de Confiance',
        navStart: 'Demarrage',
        btnOps: 'Operations',
        btnCreator: 'Creator',
        btnCustomer: 'Customer',
        heroBadge: 'Routage marketplace oriente role',
        heroCustomerKicker: 'Demand Side',
        heroCustomerTitle: 'The Vault',
        heroCustomerTitleLead: 'THE',
        heroCustomerTitleEm: 'VAULT',
        heroCustomerCopy: 'Explore curated listings with transparent checkout fees, private communication, and verified delivery states.',
        heroCreatorKicker: 'Supply Side',
        heroCreatorTitle: 'The Syndicate',
        heroCreatorTitleLead: 'THE',
        heroCreatorTitleEm: 'SYNDICATE',
        heroCreatorCopy: 'Monetize with promotion inventory, reserve-aware wallets, dispute-ready ledgers, and controlled payouts.',
        heroEnterCustomer: 'Entrer en Customer',
        heroEnterCreator: 'Entrer en Creator',
        toggleCustomer: 'I am a Customer',
        toggleCreator: 'I am a Creator',
        metric1: 'webhook reliability with idempotent processing',
        metric2: 'rolling reserve window visible in creator wallet',
        metric3: 'promotion lift from inventory-based ranking plans',
        storyKicker: 'Architecture Plateforme',
        storyTitle: 'Built like a commerce engine, presented like a premium brand.',
        storyCopy: 'The experience looks editorial and exclusive, while the foundation runs dual-fee calculations, moderation states, dispute operations, and reserve-aware payouts.',
        storyCard1Title: 'Dual-Fee Ledger Core',
        storyCard1Copy: 'Every order stores base price, buyer fee, commission, seller earnings, and reconciliation-ready transaction trails.',
        storyCard2Title: 'Promotion Monetization',
        storyCard2Copy: 'Creators can buy duration or click-based ranking plans directly from their workspace and track conversion impact.',
        storyCard3Title: 'Compliance by Design',
        storyCard3Copy: 'KYC gates, moderation queues, and review events control what gets published before it reaches customers.',
        storyCard4Title: 'Chargeback Defense',
        storyCard4Copy: 'Dispute webhooks freeze funds, build evidence packets, and adjust reserve rates using seller risk profiles.',
        flowsKicker: 'Role Journeys',
        flowsTitle: 'Two workspaces, one operating system.',
        flowsCopy: 'Users choose identity once, then land in a journey tuned for conversion, control, and transparency.',
        creatorTitle: 'Creator Workspace',
        creatorCopy: 'For catalog operations, promotion spend, reserve tracking, and withdrawal management.',
        creatorPoint1: 'Manage listings, pricing, and inventory states',
        creatorPoint2: 'Buy promotion slots and monitor exposure performance',
        creatorPoint3: 'Track available, pending, and disputed balances',
        customerTitle: 'Customer Workspace',
        customerCopy: 'For discovery, transparent pending orders, hosted checkout, and delivery/dispute tracking.',
        customerPoint1: 'Browse promoted and organic listings',
        customerPoint2: 'Review fee breakdown before hosted payment redirect',
        customerPoint3: 'Track order, shipping proof, and dispute states',
        trustKicker: 'Trust Engine',
        trustTitle: 'Safety systems stay in the background and keep conversion smooth.',
        trustCopy: 'High-risk commerce survives by being predictable. These controls protect margin, payouts, and payment partner health.',
        trustCard1Title: 'Idempotent Webhooks',
        trustCard1Copy: 'Duplicate payment callbacks are ignored safely so balances never credit twice.',
        trustCard2Title: 'Append-only Ledger',
        trustCard2Copy: 'All balance transitions are written as immutable records for auditing and reconciliation.',
        trustCard3Title: 'Moderation Console',
        trustCard3Copy: 'Operations teams process review queues with clear approve/reject state transitions.',
        trustCard4Title: 'Dispute State Machine',
        trustCard4Copy: 'Chargebacks create holds, lock risky withdrawals, and trigger evidence collection.',
        ctaTitle: 'Choose your role and enter the live workspace.',
        ctaCopy: 'Language, route, and onboarding context are carried across so users land in the right operating flow immediately.',
        footer: 'SluttySluts Marketplace Platform. Role-first entry, multilingual routing, and production-ready commerce controls.'
    }
};
function normalizedLang(raw) {
    return Object.prototype.hasOwnProperty.call(translations, raw) ? raw : 'en';
}
function copyFor(dict, key) {
    if (dict && typeof dict[key] === 'string')
        return dict[key];
    return translations.en[key] || '';
}
const heroElement = document.getElementById('hero');
const heroProgressBar = document.getElementById('heroProgressBar');
const mobileMenuToggle = document.getElementById('mobileMenuToggle');
const mobileDrawer = document.getElementById('mobileDrawer');
const mobileMenuBackdrop = document.getElementById('mobileMenuBackdrop');
const langSelectMobile = document.getElementById('langSelectMobile');
const desktopQuery = window.matchMedia('(min-width: 981px)');
const reduceMotionQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
let activeRole = 'customer';
let pendingMouseX = null;
let fluidFrame = 0;
function updateHeroProgress() {
    if (!heroProgressBar)
        return;
    heroProgressBar.style.width = activeRole === 'creator' ? '100%' : '50%';
}
function clearFluidSplit() {
    if (!heroElement)
        return;
    heroElement.style.removeProperty('--hero-left');
    heroElement.style.removeProperty('--hero-right');
}
function setActiveRole(role, options = {}) {
    activeRole = role === 'creator' ? 'creator' : 'customer';
    document.body.setAttribute('data-active-role', activeRole);
    if (!options.keepFluid)
        clearFluidSplit();
    updateHeroProgress();
}
function updateFluidSplit() {
    fluidFrame = 0;
    if (!heroElement || pendingMouseX === null)
        return;
    if (!desktopQuery.matches || reduceMotionQuery.matches)
        return;
    const rect = heroElement.getBoundingClientRect();
    if (rect.width <= 0)
        return;
    const ratio = Math.max(0, Math.min(1, (pendingMouseX - rect.left) / rect.width));
    const leftPercent = Math.max(30, Math.min(70, (1 - ratio) * 100));
    const rightPercent = 100 - leftPercent;
    heroElement.style.setProperty('--hero-left', `${leftPercent.toFixed(2)}%`);
    heroElement.style.setProperty('--hero-right', `${rightPercent.toFixed(2)}%`);
    setActiveRole(leftPercent >= 50 ? 'customer' : 'creator', { keepFluid: true });
}
function applyLang(lang) {
    const chosen = normalizedLang(lang);
    const dict = translations[chosen];
    document.documentElement.lang = chosen;
    document.querySelectorAll('[data-i18n]').forEach((node) => {
        const key = node.getAttribute('data-i18n');
        if (key)
            node.textContent = copyFor(dict, key);
    });
    document.querySelectorAll('[data-role-link]').forEach((node) => {
        const role = node.getAttribute('data-role-link');
        node.setAttribute('href', `./app.html?role=${encodeURIComponent(role)}&lang=${encodeURIComponent(chosen)}`);
    });
    const langSelect = document.getElementById('langSelect');
    if (langSelect)
        langSelect.value = chosen;
    if (langSelectMobile)
        langSelectMobile.value = chosen;
    localStorage.setItem('siteLang', chosen);
}
function setMobileMenu(open) {
    document.body.classList.toggle('menu-open', open);
    if (mobileMenuToggle)
        mobileMenuToggle.setAttribute('aria-expanded', String(open));
    if (mobileDrawer)
        mobileDrawer.setAttribute('aria-hidden', String(!open));
    if (mobileMenuBackdrop)
        mobileMenuBackdrop.hidden = !open;
}
function bootReveal() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (!entry.isIntersecting)
                return;
            entry.target.classList.add('show');
            observer.unobserve(entry.target);
        });
    }, { threshold: 0.18 });
    document.querySelectorAll('.reveal').forEach((el, idx) => {
        el.style.transitionDelay = `${Math.min(280, idx * 70)}ms`;
        observer.observe(el);
    });
}
const langSelect = document.getElementById('langSelect');
langSelect?.addEventListener('change', (event) => {
    applyLang(event.currentTarget.value);
});
langSelectMobile?.addEventListener('change', (event) => {
    applyLang(event.currentTarget.value);
});
mobileMenuToggle?.addEventListener('click', () => {
    const open = !document.body.classList.contains('menu-open');
    setMobileMenu(open);
});
mobileMenuBackdrop?.addEventListener('click', () => setMobileMenu(false));
document.querySelectorAll('#mobileDrawer a').forEach((link) => {
    link.addEventListener('click', () => setMobileMenu(false));
});
window.addEventListener('keydown', (event) => {
    if (event.key !== 'Escape')
        return;
    setMobileMenu(false);
});
document.querySelectorAll('[data-role-panel]').forEach((panel) => {
    panel.addEventListener('mouseenter', () => {
        if (window.matchMedia('(min-width: 981px)').matches) {
            setActiveRole(panel.getAttribute('data-role-panel'));
        }
    });
    panel.addEventListener('mousemove', (event) => {
        if (!desktopQuery.matches || reduceMotionQuery.matches)
            return;
        pendingMouseX = event.clientX;
        if (!fluidFrame)
            fluidFrame = requestAnimationFrame(updateFluidSplit);
    });
    panel.addEventListener('focusin', () => {
        setActiveRole(panel.getAttribute('data-role-panel'));
    });
});
heroElement?.addEventListener('mouseleave', () => {
    pendingMouseX = null;
    clearFluidSplit();
    setActiveRole(activeRole);
});
window.addEventListener('resize', () => {
    if (!desktopQuery.matches) {
        pendingMouseX = null;
        clearFluidSplit();
        return;
    }
    setMobileMenu(false);
});
const query = new URLSearchParams(window.location.search);
const queryRole = query.get('role');
if (queryRole === 'creator') {
    setActiveRole('creator');
}
else {
    setActiveRole('customer');
}
const savedLang = localStorage.getItem('siteLang') || normalizedLang(query.get('lang'));
applyLang(savedLang || 'en');
bootReveal();
export {};
